(this["webpackJsonpreal-time-counter"]=this["webpackJsonpreal-time-counter"]||[]).push([[0],{236:function(e,t,a){e.exports=a(407)},241:function(e,t,a){},242:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(47),c=a.n(o),l=(a(241),a(139)),s=a(204),i=a(95),m=a(96),u=a(102),d=a(97),h=a(103),v=(a(242),a(104)),p=a.n(v);p.a.initializeApp({apiKey:"AIzaSyAWTmf2Ts368C0Bck8fE0ES0vv_AaSZJ1U",authDomain:"real-time-counter.firebaseapp.com",databaseURL:"https://real-time-counter.firebaseio.com",projectId:"real-time-counter",storageBucket:"real-time-counter.appspot.com",messagingSenderId:"891832645108",appId:"1:891832645108:web:482e352680e7334f7535a1",measurementId:"G-WB8KSM6QMJ"}),p.a.analytics();var f=p.a,b=a(420),E=a(419),g=a(60),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleDecrement,a=e.handleIncrement,n=e.handleRemoval,o=e.start,c=e.name;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"counter"},r.a.createElement("div",{className:"counter__value"},o),r.a.createElement("div",{className:"counter__name"},c,": "),r.a.createElement(E.a,{size:"massive",icon:!0,onClick:a},r.a.createElement(g.a,{name:"add"})),r.a.createElement(E.a,{size:"massive",icon:!0,onClick:t},r.a.createElement(g.a,{name:"minus"})),r.a.createElement(E.a,{size:"massive",color:"red",icon:!0,onClick:n},r.a.createElement(g.a,{name:"trash alternate outline"}))))}}]),t}(n.Component),C=a(417),j=a(416),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={counters:{},name:"",start:0,modalOpen:!1},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1,name:"",start:0})},a.handleIncrement=function(e){var t=a.state.counters;f.database().ref("events/event1/counters/".concat(e)).update({start:t[e].count+1}),console.log(t[e].count)},a.handleDecrement=function(e){var t=a.state.counters;t[e].count<1||f.database().ref("events/event1/counters/".concat(e)).update({start:t[e].count-1})},a.handleNewCounter=function(){console.log("new counter");var e=a.state,t=e.name,n=e.start;f.database().ref("events/event1/counters").push({name:t,start:parseInt(n)},(function(e){e?console.log("error, need to handle this"):a.setState({name:"",start:0,modalOpen:!1})}))},a.handleRemoval=function(e){f.database().ref("events/event1/counters/".concat(e)).remove()},a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("events/event1/counters").on("value",(function(t){console.log("snapshot",t.val());var a={};t.val()&&Object.entries(t.val()).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];console.log(n,r),a[n]={name:r.name,count:r.start}})),console.log(a),e.setState({counters:a})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.counters,n=t.name,o=t.start;return r.a.createElement("div",{className:"App"},Object.entries(a).map((function(t){var a=Object(l.a)(t,2),n=a[0],o=a[1];return r.a.createElement(O,{start:o.count,name:o.name,key:n,handleDecrement:function(){return e.handleDecrement(n)},handleIncrement:function(){return e.handleIncrement(n)},handleRemoval:function(){return e.handleRemoval(n)}})})),r.a.createElement(C.a,{trigger:r.a.createElement(E.a,{onClick:this.handleOpen,size:"massive",primary:!0},"Add new counter"),closeIcon:!0,open:this.state.modalOpen,onClose:this.handleClose},r.a.createElement(C.a.Content,null,r.a.createElement(j.a,null,r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Name:"),r.a.createElement("input",{name:"name",onChange:this.handleChange,value:n})),r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Number:"),r.a.createElement("input",{name:"start",placeholder:"0",onChange:this.handleChange,value:o})),r.a.createElement(E.a,{size:"massive",positive:!0,fluid:!0,onClick:this.handleNewCounter},"Create new counter")))),r.a.createElement("div",{id:"footer"},"Made with ",r.a.createElement(g.a,{name:"heart"})," by ",r.a.createElement("a",{href:"https://github.com/g3rard0"},"Gerardo V")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[236,1,2]]]);
//# sourceMappingURL=main.2e5a882c.chunk.js.map