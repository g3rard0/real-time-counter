(this["webpackJsonpreal-time-counter"]=this["webpackJsonpreal-time-counter"]||[]).push([[0],{236:function(e,t,n){e.exports=n(407)},241:function(e,t,n){},242:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(47),c=n.n(o),l=(n(241),n(139)),s=n(204),i=n(95),u=n(96),m=n(102),d=n(97),h=n(103),v=(n(242),n(104)),p=n.n(v);p.a.initializeApp({apiKey:"AIzaSyAWTmf2Ts368C0Bck8fE0ES0vv_AaSZJ1U",authDomain:"real-time-counter.firebaseapp.com",databaseURL:"https://real-time-counter.firebaseio.com",projectId:"real-time-counter",storageBucket:"real-time-counter.appspot.com",messagingSenderId:"891832645108",appId:"1:891832645108:web:482e352680e7334f7535a1",measurementId:"G-WB8KSM6QMJ"}),p.a.analytics();var f=p.a,b=n(420),E=n(419),g=n(60),O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleDecrement,n=e.handleIncrement,a=e.handleRemoval,o=e.start,c=e.name;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"counter"},r.a.createElement("div",{className:"counter__value"},o),r.a.createElement("div",{className:"counter__name"},c,": "),r.a.createElement(E.a,{size:"large",icon:!0,onClick:n},r.a.createElement(g.a,{name:"add"})),r.a.createElement(E.a,{size:"large",icon:!0,onClick:t},r.a.createElement(g.a,{name:"minus"})),r.a.createElement(E.a,{size:"large",color:"red",icon:!0,onClick:a},r.a.createElement(g.a,{name:"trash alternate outline"}))))}}]),t}(a.Component),C=n(417),j=n(416),k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={counters:{},name:"",start:0,modalOpen:!1},n.handleOpen=function(){return n.setState({modalOpen:!0})},n.handleClose=function(){return n.setState({modalOpen:!1,name:"",start:0})},n.handleIncrement=function(e){var t=n.state.counters;f.database().ref("events/event1/counters/".concat(e)).update({start:t[e].count+1}),console.log(t[e].count)},n.handleDecrement=function(e){var t=n.state.counters;t[e].count<1||f.database().ref("events/event1/counters/".concat(e)).update({start:t[e].count-1})},n.handleNewCounter=function(){console.log("new counter");var e=n.state,t=e.name,a=e.start;f.database().ref("events/event1/counters").push({name:t,start:a},(function(e){e?console.log("error, need to handle this"):n.setState({name:"",start:0,modalOpen:!1})}))},n.handleRemoval=function(e){f.database().ref("events/event1/counters/".concat(e)).remove()},n.handleChange=function(e){n.setState(Object(s.a)({},e.target.name,e.target.value))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("events/event1/counters").on("value",(function(t){console.log("snapshot",t.val());var n={};t.val()&&Object.entries(t.val()).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];console.log(a,r),n[a]={name:r.name,count:r.start}})),console.log(n),e.setState({counters:n})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.counters,a=t.name,o=t.start;return r.a.createElement("div",{className:"App"},Object.entries(n).map((function(t){var n=Object(l.a)(t,2),a=n[0],o=n[1];return r.a.createElement(O,{start:o.count,name:o.name,key:a,handleDecrement:function(){return e.handleDecrement(a)},handleIncrement:function(){return e.handleIncrement(a)},handleRemoval:function(){return e.handleRemoval(a)}})})),r.a.createElement(C.a,{trigger:r.a.createElement(E.a,{onClick:this.handleOpen,size:"massive",primary:!0},"Add new counter"),closeIcon:!0,open:this.state.modalOpen,onClose:this.handleClose},r.a.createElement(C.a.Content,null,r.a.createElement(j.a,null,r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Name:"),r.a.createElement("input",{name:"name",onChange:this.handleChange,value:a})),r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Number:"),r.a.createElement("input",{name:"start",placeholder:"0",onChange:this.handleChange,value:o})),r.a.createElement(E.a,{size:"massive",positive:!0,fluid:!0,onClick:this.handleNewCounter},"Create new counter")))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[236,1,2]]]);
//# sourceMappingURL=main.75a3e150.chunk.js.map